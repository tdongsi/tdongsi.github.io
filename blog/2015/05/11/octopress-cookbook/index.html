
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Octopress Cookbook - Personal Programming Notes</title>
  <meta name="author" content="Cuong Dong-Si">

  
  <meta name="description" content="Octopress is a Ruby-based framework for generating static blog sites.
This post will show the most basics of Octopress to get started on blogging &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tdongsi.github.io/blog/2015/05/11/octopress-cookbook/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Personal Programming Notes" type="application/atom+xml">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<!-- MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Personal Programming Notes</a></h1>
  
    <h2>To err is human; to debug, divine.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="tdongsi.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/disclaimer">Disclaimer</a></li>
  <li><a href="/resume">Resume</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Octopress Cookbook</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-05-11T13:40:13-07:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:40 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Octopress is a Ruby-based framework for generating static blog sites.
This post will show the most basics of Octopress to get started on blogging quickly.</p>

<!--more-->


<h3>Basic workflow</h3>

<p>In summary, the workflow for writing blog in Octopress is as follows:</p>

<ul>
<li><code>rake new_post["Post title"]</code></li>
<li>Edit &amp; Preview:

<ul>
<li><code>rake generate</code>

<ul>
<li>After this step, the published artifacts are generated in the &ldquo;public&rdquo; directory.</li>
</ul>
</li>
<li><code>rake preview</code>

<ul>
<li>Published pages will be served locally at &ldquo;localhost:4000&rdquo;. Preview it in any browser.</li>
<li>Updated Markdown files will be regenerated automatically.</li>
</ul>
</li>
</ul>
</li>
<li>Publish:

<ul>
<li><code>rake generate</code>

<ul>
<li>This step makes sure latest changes are added.</li>
</ul>
</li>
<li><code>rake deploy</code>

<ul>
<li>After this step, the content in the &ldquo;public&rdquo; directory is copied into &ldquo;_deploy&rdquo; directory and git add/commit/push to the remote Github branch.</li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>Setting up new blog</h3>

<p>This section assumes that we will publish in <code>gh-pages</code> branch which is more common (publishing in <code>master</code> branch only works for <code>username.github.io</code> repository).
In general, any project that we work in a repo <code>foo</code> (with main development in branches <code>master</code>/<code>develop</code>) on Github can have associated documentation HTML site in <code>gh-pages</code> branch.
Such documentation site can be accessed publicly at &ldquo;username.github.io/foo/&rdquo;.
Octopress allows easy generation of such static HTML sites.
One can arrange such that each blog post is a tutorial or a documentation page, written in Markdown and &ldquo;compiled&rdquo; into HTML.</p>

<p>The process of setting up such a static &ldquo;documentation&rdquo; site is as follows:</p>

<ol>
<li>Download the zip file from octopress master branch <a href="https://github.com/imathis/octopress">here</a>. Note that <a href="https://github.com/octopress/octopress">this link</a> is version 3, which is different.</li>
<li>Unzip the zip file into the repo. Rename it to &ldquo;docs&rdquo; or &ldquo;octopress&rdquo;.</li>
<li>Commit it to <code>master</code> or <code>develop</code> branch.</li>
<li>Run <code>rake install</code> to generate files. Check in the generated files.</li>
<li>Create <code>_deploy</code> folder for deployment. For new static site, <code>rake setup_github_pages</code> works.</li>
<li>Start blogging/writing documentation. Use the workflow in the last section: <code>rake generate</code> -> <code>rake preview</code> -> <code>rake deploy</code>.</li>
<li>For layout editing, check out one of early commits in <a href="https://github.com/tdongsi/javascript">this repo</a>.</li>
</ol>


<p>NOTE: when previewing the one published in <code>gh-pages</code>, you need to edit &ldquo;destination: public&rdquo; in <code>_config.yml</code> file to &ldquo;destination: public/repo_name&rdquo;.</p>

<h3>Add a new page</h3>

<p>This section is about adding a new page, opposed to a new post.
The common examples of such page in an Octopress-based blog is &ldquo;About&rdquo; page or &ldquo;Resume&rdquo; page.
To create a new page, use the following command:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake new_page["About"]</span></code></pre></td></tr></table></div></figure>


<p>This will create a new file at &ldquo;source/about/index.markdown&rdquo; and you can edit that file to add content.
After <code>rake generate</code> command, the &ldquo;source/about/index.markdown&rdquo; will &ldquo;compiled&rdquo; into &ldquo;public/about/index.html&rdquo; that is displayed in the web browser.
After the page content is ready, you may want to add an &ldquo;About&rdquo; link in the navigation bar to that page.
To do that, edit the file &ldquo;source/_includes/custom/navigation.html&rdquo;.</p>

<h3>Deployment</h3>

<p>Octopress deploys latest changes with the command <code>rake deploy</code>.
In this <code>deploy</code> step, it copies all the latest changes to the generated static HTML site into a <code>_deploy</code> folder which is a clone of one of the public branches (<code>master</code> or <code>gh-pages</code>) of the same repository.
Create <code>_deploy</code> folder by using this command.</p>

<figure class='code'><figcaption><span>Creating _deploy folder for an on-going blog</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone -b gh-pages git@github.com:user/myproject.git _deploy</span></code></pre></td></tr></table></div></figure>


<p>With Git 1.7.10 and later, add <code>--single-branch</code> to prevent fetching of all branches.</p>

<p>Make sure you use the SSH URL for the Github repo since the HTTPS URL will prompt for password for every deployment.
In addition, SSH public/private key pair must be generated and added to the Github accordingly.
Otherwise, you might get the following errorr:</p>

<figure class='code'><figcaption><span>Common public key error</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>## Pushing generated _deploy website
</span><span class='line'>Permission denied (publickey).
</span><span class='line'>fatal: Could not read from remote repository.
</span><span class='line'>
</span><span class='line'>Please make sure you have the correct access rights
</span><span class='line'>and the repository exists.</span></code></pre></td></tr></table></div></figure>


<p>If you get the above message even though the public key is already added to Github, check if you are using the right private key.
Make sure it is added to SSH authentication agent.</p>

<figure class='code'><figcaption><span>Adding SSH identity file</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mymac:octopress tdongsi$ ssh-add ~/.ssh/id_rsa_git
</span><span class='line'>Identity added: /Users/tdongsi/.ssh/id_rsa_git (/Users/tdongsi/.ssh/id_rsa_git)
</span><span class='line'>
</span><span class='line'>mymac:octopress tdongsi$ ssh-add -l -E md5
</span><span class='line'>2048 MD5:ef:c1:d6:4e:92:d2:15:2c:ef:c3:72:d6:c6:98:23:e0 /Users/tdongsi/.ssh/id_rsa_git (RSA)
</span><span class='line'>
</span><span class='line'># Verify your connection
</span><span class='line'>$ ssh -T git@github.com</span></code></pre></td></tr></table></div></figure>


<p>The command <code>ssh-add -l -E md5</code> can be used to find if there is a matching public key on Github.
See <a href="https://help.github.com/articles/error-permission-denied-publickey/">here</a> for more information.</p>

<h3>Reference</h3>

<ul>
<li><a href="http://stackoverflow.com/questions/1911109/how-to-clone-a-specific-git-branch">Clone a specific Git branch</a></li>
<li><a href="http://stackoverflow.com/questions/651038/how-do-you-clone-a-git-repository-into-a-specific-folder">Clone to a specific folder</a></li>
<li><a href="https://help.github.com/articles/error-permission-denied-publickey/">Github instructions on public SSH key</a></li>
</ul>


<p>Recipes:</p>

<ul>
<li><a href="http://blog.zhengdong.me/2012/12/19/latex-math-in-octopress/">Latex for Math formulas</a></li>
<li><a href="http://gangmax.me/blog/2012/05/04/add-about-page-in-octopress/">New page</a>: <code>rake new_page["Resume"]</code> and add link (<a href="https://github.com/tdongsi/tdongsi.github.io/blob/source/source/_includes/custom/navigation.html">example</a>).</li>
<li><a href="http://octopress.org/docs/plugins/include-code/">Include code from file</a></li>
<li><a href="https://blog.pixelingene.com/2011/09/tips-for-speeding-up-octopress-site-generation/">rake isolate/integrate</a></li>
<li><a href="http://octopress.org/docs/plugins/image-tag/">Image</a></li>
<li><a href="https://github.com/optikfluffel/octopress-responsive-video-embed">Video</a>

<ul>
<li><a href="https://gist.github.com/jamieowen">Improved ruby code</a></li>
</ul>
</li>
<li><a href="http://samwize.com/2012/09/24/octopress-table-stylesheet/">Table</a> (<a href="https://github.com/tdongsi/python/commit/7f75238b62a40696b3dd0160a8ff3e84baea229b">implemented</a>): <a href="https://github.com/tdongsi/tdongsi.github.io/blob/source/source/_posts/Hive/2015-11-21-explaining-wordcount-example.markdown">Markdown example</a>.</li>
</ul>


<p>Markdown editing tips:</p>

<ul>
<li><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Cheat sheet</a></li>
<li>Use  <code>&lt;!-- more —&gt;</code> to specify Excerpt.</li>
<li>Internal link: <code>(/2012/01/05/hello-world)</code> gives the link &ldquo;<a href="http://userName.github.io/repoName/blog/2012/01/05/hello-world">http://userName.github.io/repoName/blog/2012/01/05/hello-world</a>&rdquo;</li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Cuong Dong-Si</span></span>

      




<time class='entry-date' datetime='2015-05-11T13:40:13-07:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:40 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/git/'>git</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://tdongsi.github.io/blog/2015/05/11/octopress-cookbook/" data-via="" data-counturl="http://tdongsi.github.io/blog/2015/05/11/octopress-cookbook/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2015/03/22/install-ssh-on-windows/" title="Previous Post: Set up public-key SSH on Windows">&laquo; Set up public-key SSH on Windows</a>
      
      
        <a class="basic-alignment right" href="/blog/2015/05/11/ssh-cookbook/" title="Next Post: SSH cookbook: ssh">SSH cookbook: ssh &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
    <h1>About Me</h1>
    <p>I write about random things that come to mind, mostly for my future self and any visitor who might find useful.</p>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/12/31/minikube-in-corporate-vpn/">Minikube in Corporate VPN</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/30/groovy-hook-script-and-jenkins-configuration-as-code/">Groovy Hook Script and Jenkins Configuration as Code</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/26/class-in-jenkins-shared-library/">Class in Jenkins Shared Library</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/11/29/jenkins-plugin-development/">Jenkins Plugin Development</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/09/tcp-ping/">TCP Ping</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/23/jacoco-in-maven-project/">Jacoco in Maven Projects</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/15/keep-gruntfile-clean-with-load-grunt-config/">Keep Gruntfile Clean With Load-grunt-config</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tdongsi">@tdongsi</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tdongsi',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>

<section>
  <h1>Categories</h1>
    <ul id="category-list"><li><a href='/blog/categories/algorithm/'>algorithm (3)</a></li><li><a href='/blog/categories/automation/'>automation (6)</a></li><li><a href='/blog/categories/aws/'>aws (5)</a></li><li><a href='/blog/categories/bash/'>bash (11)</a></li><li><a href='/blog/categories/book/'>book (9)</a></li><li><a href='/blog/categories/cassandra/'>cassandra (1)</a></li><li><a href='/blog/categories/centos/'>centos (2)</a></li><li><a href='/blog/categories/database/'>database (6)</a></li><li><a href='/blog/categories/docker/'>docker (10)</a></li><li><a href='/blog/categories/eclipse/'>eclipse (2)</a></li><li><a href='/blog/categories/git/'>git (7)</a></li><li><a href='/blog/categories/gradle/'>gradle (1)</a></li><li><a href='/blog/categories/groovy/'>groovy (11)</a></li><li><a href='/blog/categories/grunt/'>grunt (1)</a></li><li><a href='/blog/categories/hadoop/'>hadoop (10)</a></li><li><a href='/blog/categories/hive/'>hive (8)</a></li><li><a href='/blog/categories/jacoco/'>jacoco (1)</a></li><li><a href='/blog/categories/java/'>java (13)</a></li><li><a href='/blog/categories/javascript/'>javascript (1)</a></li><li><a href='/blog/categories/jdbc/'>jdbc (2)</a></li><li><a href='/blog/categories/jenkins/'>jenkins (17)</a></li><li><a href='/blog/categories/jmockit/'>jmockit (3)</a></li><li><a href='/blog/categories/junit/'>junit (2)</a></li><li><a href='/blog/categories/kubernetes/'>kubernetes (8)</a></li><li><a href='/blog/categories/macosx/'>macosx (3)</a></li><li><a href='/blog/categories/math/'>math (1)</a></li><li><a href='/blog/categories/matplotlib/'>matplotlib (2)</a></li><li><a href='/blog/categories/maven/'>maven (5)</a></li><li><a href='/blog/categories/mysql/'>mysql (1)</a></li><li><a href='/blog/categories/numpy/'>numpy (1)</a></li><li><a href='/blog/categories/opencv/'>opencv (1)</a></li><li><a href='/blog/categories/performance/'>performance (5)</a></li><li><a href='/blog/categories/perl/'>perl (1)</a></li><li><a href='/blog/categories/python/'>python (10)</a></li><li><a href='/blog/categories/ruby/'>ruby (1)</a></li><li><a href='/blog/categories/security/'>security (6)</a></li><li><a href='/blog/categories/sql/'>sql (12)</a></li><li><a href='/blog/categories/testing/'>testing (6)</a></li><li><a href='/blog/categories/testng/'>testng (3)</a></li><li><a href='/blog/categories/todo/'>todo (2)</a></li><li><a href='/blog/categories/vertica/'>vertica (12)</a></li><li><a href='/blog/categories/windows/'>windows (2)</a></li></ul>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Cuong Dong-Si -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
